data:
  name: DecathlonDataModule
  settings:
    data_list: /home/nanaha/data/LoRes/datalist.json
    data_root: /home/nanaha/data/LoRes
    is_segmentation: true
    shm_cache_path: /dev/shm
    use_shm_cache: false
  test:
    data_list_key:
    - training
    - validation
    - testing
    dataloader:
      args:
        batch_size: 1
        num_workers: 4
        pin_memory: true
        shuffle: false
      name: DataLoader
    dataset:
      name: Dataset
    transforms:
    - args:
        keys: image
      name: LoadImaged
    - args:
        keys: image
      name: AddChanneld
    - args:
        as_closest_canonical: true
        keys: image
      name: Orientationd
    - args:
        a_max: 250.0
        a_min: -200.0
        b_max: 1.0
        b_min: 0.0
        clip: true
        keys: image
      name: ScaleIntensityRanged
    - args:
        keys: image
      name: EnsureTyped
  training:
    data_list_key: training
    dataloader:
      args:
        batch_size: 4
        num_workers: 4
        pin_memory: true
        shuffle: true
      name: DataLoader
    dataset:
      args:
        cache_rate: 0.3
        num_workers: 6
      name: CacheDataset
    transforms:
    - args:
        keys:
        - image
        - label
      name: LoadImaged
    - args:
        keys:
        - image
        - label
      name: AddChanneld
    - args:
        as_closest_canonical: true
        keys:
        - image
        - label
      name: Orientationd
    - args:
        a_max: 250.0
        a_min: -200.0
        b_max: 1.0
        b_min: 0.0
        clip: true
        keys:
        - image
      name: ScaleIntensityRanged
    - args:
        image_key: image
        image_threshold: 0.0
        keys:
        - image
        - label
        label_key: label
        neg: 1.0
        num_samples: 4
        pos: 1.0
        spatial_size:
        - 64
        - 64
        - 64
      name: RandCropByPosNegLabeld
    - args:
        keys:
        - image
        offsets: 0.1
        prob: 0.8
      name: RandShiftIntensityd
    - args:
        keys:
        - image
        - label
      name: EnsureTyped
  validation:
    data_list_key: validation
    dataloader:
      args:
        batch_size: 1
        num_workers: 4
        pin_memory: true
        shuffle: false
      name: DataLoader
    dataset:
      name: Dataset
    transforms:
    - args:
        keys:
        - image
        - label
      name: LoadImaged
    - args:
        keys:
        - image
        - label
      name: AddChanneld
    - args:
        as_closest_canonical: true
        keys:
        - image
        - label
      name: Orientationd
    - args:
        a_max: 250.0
        a_min: -200.0
        b_max: 1.0
        b_min: 0.0
        clip: true
        keys:
        - image
      name: ScaleIntensityRanged
    - args:
        keys:
        - image
        - label
      name: EnsureTyped
workflow:
  components:
    inferer:
      args:
        overlap: 0.5
        roi_size:
        - 96
        - 96
        - 96
        sw_batch_size: 4
      name: SlidingWindowInferer
    loss:
      args:
        include_background: true
        softmax: true
        to_onehot_y: true
      name: DiceCELoss
    model:
      args:
        in_channels: 1
        out_channels: 3
      name: SegResNet
    optimizer:
      args:
        lr: 0.0001
      name: AdamW
    post_transforms:
      test:
      - args:
          argmax: true
          keys: preds
          num_classes: 3
        name: AsDiscreted
      - args:
          data_type: numpy
          keys:
          - preds
          - image_meta_dict
        name: EnsureTyped
      - args:
          keys:
          - preds
          meta_keys:
          - image_meta_dict
          mode: nearest
          output_dir: results
          output_ext: .nii.gz
          output_postfix: preds
          print_log: false
          separate_folder: false
          squeeze_end_dims: true
        name: SaveImaged
      training:
      - args:
          argmax:
          - true
          - false
          channel_dim: 1
          keys:
          - preds
          - label
          num_classes: 3
          to_onehot:
          - true
          - true
        name: AsDiscreted
        path: manafaln.transforms
      validation:
      - args:
          argmax:
          - true
          - false
          keys:
          - preds
          - label
          num_classes: 3
          to_onehot:
          - true
          - true
        name: AsDiscreted
      - args:
          channel_dim: 0
          keys:
          - preds
          - label
          output_postfixes:
          - background
          - pancreas
          - tumor
        name: SplitChanneld
      - args:
          dim: 0
          keys:
          - preds
          - label
        name: Unsqueezed
        path: manafaln.transforms
    scheduler:
      args:
        T_0: 2300
        T_mult: 10
        eta_min: 1.0e-05
      name: CosineAnnealingWarmRestarts
    training_metrics:
    - args:
        get_not_nans: false
        include_background: false
        reduction: mean
      log_label: train_meandice
      name: DiceMetric
      output_transform: 'lambda x: (x[''preds''], x[''label''])'
    - args:
        compute_sample: true
        get_not_nans: false
        include_background: false
        metric_name:
        - sensitivity
        - specificity
        - accuracy
        reduction: mean
      log_label:
      - train_sensitivity
      - train_specificity
      - train_accuracy
      name: ConfusionMatrixMetric
      output_transform: 'lambda x: (x[''preds''], x[''label''])'
    validation_metrics:
    - args:
        get_not_nans: false
        include_background: false
        reduction: mean
      log_label: val_meandice
      name: DiceMetric
      output_transform: 'lambda x: (x[''preds''], x[''label''])'
    - args:
        compute_sample: true
        get_not_nans: false
        include_background: false
        metric_name:
        - sensitivity
        - specificity
        - accuracy
        reduction: mean
      log_label:
      - val_sensitivity
      - val_specificity
      - val_accuracy
      name: ConfusionMatrixMetric
      output_transform: 'lambda x: (x[''preds''], x[''label''])'
  name: SupervisedSegmentation
  settings:
    decollate: true
    decollate_phases:
    - validation
    - test
    learning_rate: 0.0005
    num_classes: 3
    scheduler:
      frequency: 1
      interval: step
